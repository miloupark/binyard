# 유틸리티 타입 (Utility Types)

- [공식문서 - Utility Types](https://www.typescriptlang.org/ko/docs/handbook/utility-types.html)

| 유틸리티 타입    | 설명                                               |
| ---------------- | -------------------------------------------------- |
| `Partial<T>`     | 타입 T의 모든 속성을 선택적으로(`?`) 만든다        |
| `Readonly<T>`    | 타입 T의 모든 속성을 읽기 전용으로 만든다          |
| `Pick<T, K>`     | 타입 T에서 속성 K 만을 선택하여 타입을 생성        |
| `Omit<T, K>`     | 타입 T에서 속성 K를 제외한 타입을 생성             |
| `Record<K, T>`   | K 타입의 키와 T 타입의 값으로 구성된 타입을 생성   |
| `Parameters<T>`  | 함수 타입 T의 매개변수 타입들을 튜플 타입으로 추출 |
| `Exclude<T, U>`  | T 타입에서 U 타입을 제거하여 나머지만 남긴다       |
| `Extract<T, U>`  | T와 U의 교집합(공통 타입)만 추출한다               |
| `NonNullable<T>` | `null`과 `undefined`를 제거한 타입을 생성한다      |
| `ReturnType<T>`  | 함수 타입 T의 반환값 타입을 추출한다               |
| `Required<T>`    | 타입 T의 모든 속성을 필수로 만든다                 |

<br>

## 1. `Partial<T>`

```ts
type User = {
  id: number;
  name: string;
  email: string;
};

type PartialUser = Partial<User>;

type Product = {
  id: number;
  price: number;
};

type PartialProduct = Partial<Product>;

const product: PartialProduct = {};
const product2: Product = { id: 1, price: 2000 };
```

<br>

## 2. `Readonly<T>`

```ts
type User = {
  id: number;
  name: string;
};

const user: Readonly<User> = {
  id: 1,
  name: "bin",
};

user.id = 10; // Error
```

<br>

## 3. `Pick<T, K>`

```ts
type User = {
  id: number;
  name: string;
  email: string;
};

type UserWithNameOnly = Pick<User, "name">;

const user: UserWithNameOnly = {
  name: "Park",
};
```

<br>

## 4. `Omit<T, K>`

```ts
type Product = {
  id: number;
  name: string;
  price: number;
  uniqueCode: number;
};

type ProductWithoutCode = Omit<Product, "uniqueCode">;
type ProductWithoutCodeAndPrice = Omit<Product, "uniqueCode" | "price">;
```

<br>

## 5. `Record<K, T>`

```ts
type Country = "South Korea" | "United States" | "Canada";
type Capital = string;

type CountryCapitals = Record<Country, Capital>;

const capitals: CountryCapitals = {
  "South Korea": "Seoul",
  "United States": "Washington D.C",
  Canada: "Ottawa",
};

type CountryInfo = {
  capital: string;
  population: number;
  continent: string;
};

type CountryInfoMap = Record<Country, CountryInfo>;

const countryInfo: CountryInfoMap = {
  "South Korea": {
    capital: "Seoul",
    population: 51_000_000,
    continent: "Asia",
  },
  "United States": {
    capital: "Washington D.C",
    population: 331_000_000,
    continent: "North America ",
  },
  Canada: {
    capital: "Ottawa",
    population: 83_000_000,
    continent: "North America",
  },
};
```

<br>

## 6. `Parameters<T>`

```ts
type SomeFunction = (id: number) => void;
type Param = Parameters<SomeFunction>;

function someFunction(...param: Param) {
  const [id] = param;
}

someFunction(100);
```

<br>

```ts
type SaveUser = (name: string, age: number) => void;
type Params = Parameters<SaveUser>;

function saveUser(...params: Params) {
  const [name, age] = params;
}

saveUser("Binny", 30);
```

<br>

## ETC..

```ts
// Exclude
type T = Exclude<"a" | "b" | "c", "a">; // "b" | "c"

// Extract
type T = Extract<"a" | "b" | "c", "a" | "d">; // "a"

// NonNullable
type T = NonNullable<string | null | undefined>; // string

// ReturnType
function sum(a: number, b: number) {
  return a + b;
}
type Result = ReturnType<typeof sum>; // number
```
