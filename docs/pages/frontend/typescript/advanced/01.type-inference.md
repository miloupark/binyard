# íƒ€ì… ì¶”ë¡  (Type Inference)

íƒ€ì… ì¶”ë¡ ì´ë€ ì»´íŒŒì¼ëŸ¬ê°€ ì½”ë“œì˜ ë¬¸ë§¥ì„ ë°”íƒ•ìœ¼ë¡œ ë³€ìˆ˜, í‘œí˜„ì‹, í•¨ìˆ˜ ë°˜í™˜ê°’ ë“±ì˜ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ê²°ì •í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ë§í•œë‹¤.
ëª…ì‹œì ì¸ íƒ€ì… ì„ ì–¸ì´ ì—†ì–´ë„ TypeScriptëŠ” ë‚´ë¶€ ë¡œì§ì„ ë¶„ì„í•˜ì—¬ ì ì ˆí•œ íƒ€ì…ì„ ìœ ì¶”í•œë‹¤.
íƒ€ì… ì¶”ë¡ ì„ ì˜ í™œìš©í•˜ë©´ ì½”ë“œê°€ ë” ê°„ê²°í•˜ê³  ê°€ë…ì„±ì´ ì¢‹ì•„ì§„ë‹¤.

<br>

### íƒ€ì… ì¶”ë¡ ì´ ì¼ì–´ë‚˜ëŠ” ì‹œì  (ëª…ì‹œí•  í•„ìš” ì—†ëŠ” ê²½ìš°)

TypeScriptëŠ” ëŒ€ì…, ë°˜í™˜, ì´ˆê¸°í™”, ì—°ì‚° ë“±ì˜ ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ìœ ì¶”í•œë‹¤.

```ts
let count = 0; // number
const PI = 3.14; // 3.14 (literal type)

let message = "hello"; // string
const greet = "hello"; // "hello" (literal type)
```

- `let`ì€ ë³€í•  ìˆ˜ ìˆëŠ” ê°’ìœ¼ë¡œ number, string ê°™ì€ `ì¼ë°˜ íƒ€ì…`ìœ¼ë¡œ ì¶”ë¡ 
- `const`ëŠ” ë¶ˆë³€ ê°’ìœ¼ë¡œ "hello", 3.14 ê°™ì€ `ë¦¬í„°ëŸ´ íƒ€ì…`ìœ¼ë¡œ ì¶”ë¡ 

<br>

## 1. ë³€ìˆ˜ íƒ€ì…

ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©´ì„œ ê°’ì„ ì´ˆê¸°í™”í•˜ë©´, TypeScriptëŠ” í•´ë‹¹ ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ íƒ€ì…ì„ ì¶”ë¡ í•œë‹¤.

```ts
let myNumber = 5; // number
let myString = "Hello"; // string
let myBool = true; // boolean

myNumber = 10;
myNumber = "15"; // Error: 'string'ì€ 'number'ì— í• ë‹¹í•  ìˆ˜ ì—†ìŒ
```

::: info âš ï¸ ì•”ë¬µì  any

ë³€ìˆ˜ì— ì´ˆê¸°ê°’ì´ ì—†ìœ¼ë©´ íƒ€ì…ì„ ì¶”ë¡ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— `any`ë¡œ ì¶”ë¡ ëœë‹¤.  
ì´ëŸ° `ì•”ë¬µì  any`ëŠ” ì˜ˆê¸°ì¹˜ ì•Šì€ ì˜¤ë¥˜ì˜ ì›ì¸ì´ ë  ìˆ˜ ìˆë‹¤.

```ts
let value; // any
value = 10;
value = "Hello"; // í—ˆìš©ë¨ (ìœ„í—˜!)
```

- `tsconfig.json`ì—ì„œ `"noImplicitAny": true`ë¡œ ì„¤ì •í•˜ë©´
  ì´ëŸ° ì•”ë¬µì  any ì‚¬ìš©ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

:::

<br>

## 2. í•¨ìˆ˜ ë°˜í™˜ íƒ€ì…

TypeScriptëŠ” í•¨ìˆ˜ ë³¸ë¬¸ ë‚´ë¶€ì˜ ì—°ì‚°ê³¼ ë°˜í™˜ê°’ì„ ë¶„ì„í•´ ìë™ìœ¼ë¡œ ë°˜í™˜ íƒ€ì…ì„ ì¶”ë¡ í•œë‹¤.

```ts
// :number ìƒëµ ê°€ëŠ¥
function add(x: number, y: number): number {
  return x + y;
}

// ì¶”ë¡ ì— ì˜í•œ ë™ì¼ ë™ì‘
function add(x: number, y: number) {
  return x + y; // numberë¡œ ì¶”ë¡ 
}

const n = add(10, 5); // n: number

// ë¬¸ìì—´ ë°˜í™˜
function addToString(x: number, y: number) {
  return `${x}${y}`; // stringìœ¼ë¡œ ì¶”ë¡ 
}

const s = addToString(10, 5); // s: string
```

::: info ğŸ’¡ ë°˜í™˜ íƒ€ì… ëª…ì‹œ ìŠµê´€
ë‚´ë¶€ í•¨ìˆ˜ë‚˜ ì§§ì€ ì½”ë“œì—ì„œëŠ” ìƒëµ ê°€ëŠ¥í•˜ì§€ë§Œ,  
API, ë¼ì´ë¸ŒëŸ¬ë¦¬, ê³µê°œ í•¨ìˆ˜ì²˜ëŸ¼ ì™¸ë¶€ì—ì„œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ëŠ”
ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œí•˜ëŠ” ìŠµê´€ì´ ì¢‹ë‹¤.
:::

<br>

## 3. ë°°ì—´ & ê°ì²´ íƒ€ì…

ë°°ì—´ì´ë‚˜ ê°ì²´ë„ ë‚´ë¶€ ìš”ì†Œë‚˜ í”„ë¡œí¼í‹°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íƒ€ì…ì´ ì¶”ë¡ ëœë‹¤.

```ts
let nums = [1, 2, 3, 4];
// nums: number[]

let user = { name: "Bin", age: 30 };
// user: { name: string; age: number }

nums.push("hello"); // Error
user.age = "30"; // Error
```

<br>

```ts
let mixedValues = [1, 2, 3, "red", "green", "blue"];
// mixedValues: (string | number)[]
```

<br>

## 4. ê¸°ë³¸ê°’(Default Value) ê¸°ë°˜ ì¶”ë¡ 

í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ì— ê¸°ë³¸ê°’ì„ ì§€ì •í•˜ë©´, ê·¸ ê°’ì˜ íƒ€ì…ì„ ê¸°ì¤€ìœ¼ë¡œ ì¶”ë¡ í•œë‹¤.

```ts
function greet(name = "Guest") {
  return `Hello, ${name}`;
}
// name: string, ë°˜í™˜ê°’: string
```

<br>

## 5. ë¦¬í„°ëŸ´ íƒ€ì…ê³¼ const ì¶”ë¡ 

```ts
let greeting = "hi"; // string
const greeting2 = "hi"; // "hi" (literal type)
```

- `let`ì€ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ìˆì–´ ì¼ë°˜ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ 
- `const`ëŠ” ë³€ê²½ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ë¦¬í„°ëŸ´ íƒ€ì…ìœ¼ë¡œ ì¶”ë¡ 

<br>

```ts
let colors = ["red", "green"] as const;
// colors: readonly ["red", "green"]
```

- `as const`ë¥¼ ì‚¬ìš©í•˜ë©´ ë¦¬í„°ëŸ´ ê·¸ëŒ€ë¡œ íƒ€ì…ì„ ê³ ì •í•  ìˆ˜ ìˆë‹¤.

<br>

## 6. ë¬¸ë§¥ì  íƒ€ì… ì¶”ë¡  (Contextual Typing)

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” í•¨ìˆ˜ ì¸ìë‚˜ ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì»¨í…ìŠ¤íŠ¸ë¥¼ í†µí•´ íƒ€ì…ì„ ì¶”ë¡ í•œë‹¤.

```ts
window.addEventListener("click", (event) => {
  console.log(event.clientX); // event: MouseEventë¡œ ì¶”ë¡ 
});

const colors = ["red", "green", "blue"];
colors.forEach((color) => {
  console.log(color.toUpperCase()); // color: stringìœ¼ë¡œ ì¶”ë¡ 
});
```

- `ë¬¸ë§¥ì  ì¶”ë¡ `ì€ íŠ¹íˆ React, DOM ì´ë²¤íŠ¸, ì½œë°± í•¨ìˆ˜ì—ì„œ ìì£¼ í™œìš©ëœë‹¤.

<br>

## 7. íƒ€ì… ë„“íˆê¸°(Widening) & ì¢íˆê¸°(Narrowing)

TypeScriptëŠ” ì´ˆê¸°ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ì ì°¨ ë„“ì€ íƒ€ì…ìœ¼ë¡œ í™•ì¥í•˜ëŠ” ê²½í–¥ì´ ìˆë‹¤.

```ts
let x = "hello"; // string
const y = "hello"; // "hello" (literal type)
```

- `const`ëŠ” `ë” ì¢ì€(literal)` íƒ€ì…
- `let`ì€ `ë” ë„“ì€(general)` íƒ€ì…

<br>

```ts
const person = {
  name: "Bin",
  age: 30,
} as const;

// name: "Bin", age: 30 (readonly)
```

- `as const`ë¥¼ ì‚¬ìš©í•˜ë©´ í™•ì¥ì„ ë§‰ê³  ë¦¬í„°ëŸ´ ê·¸ëŒ€ë¡œ ìœ ì§€

<br>

## ì •ë¦¬

| êµ¬ë¶„            | ì˜ˆì‹œ                       | ì¶”ë¡  ê²°ê³¼                         |
| --------------- | -------------------------- | --------------------------------- |
| ë³€ìˆ˜            | `let a = 10;`              | `number`                          |
| ìƒìˆ˜            | `const a = 10;`            | `"10"` (literal)                  |
| í•¨ìˆ˜ ë°˜í™˜       | `return x + y;`            | `number`                          |
| ë°°ì—´            | `[1, 2, 3]`                | `number[]`                        |
| í˜¼í•© ë°°ì—´       | `[1, "a", true]`           | `(string \| number \| boolean)[]` |
| ê°ì²´            | `{ name: "Bin", age: 30 }` | `{ name: string; age: number }`   |
| ê¸°ë³¸ê°’ ë§¤ê°œë³€ìˆ˜ | `(name = "Guest")`         | `string`                          |
| íƒ€ì… ë¯¸ì§€ì •     | `let value;`               | `any`                             |
