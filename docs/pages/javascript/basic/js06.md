# 함수 (Function)

함수는 같은 동작을 반복해야 할 때, 중복된 코드를 하나로 묶어 재사용할 수 있도록 도와주는 문법이다. 하나의 함수로 정의해두면, 필요할 때마다 호출하여 사용할 수 있으며, 이를 통해 코드의 재사용성과 가독성을 높일 수 있고 유지보수에도 유리하다.

```less {1}
함수 (Function)
├── 함수 선언과 호출
├── 함수 사용과 반환값
├── 얼리 리턴 패턴
└── 즉시 실행 함수
```

<br>

## 함수 선언과 호출

```js
// 함수 선언
function 함수이름(매개변수1, 매개변수2, ...) {
  // 실행할 코드
  return 반환값; // 선택 사항
}

// 함수 호출 (실제로 동작시키는 부분)
함수이름(인수1, 인수2, ...);
```

- `function` 키워드 뒤에 함수 이름을 작성하고, 괄호 안에는 외부에서 전달받을 값을 저장할 `매개변수(parameter)`를 정의한다.
- `인수(Arguments)`는 함수를 호출할 때 실제로 전달하는 값이다.

<br>

### 호출 위치에 따른 실행 흐름

```js
// 함수 선언
function func() {
  console.log("2");
  console.log("3");
}

console.log("1");
func(); // 함수 호출
console.log("4");

// 1
// 2
// 3
// 4
```

- 함수는 코드에 선언만 되어 있을 때는 실행되지 않고, 실제로 함수가 호출되는 순간에 실행된다.
- 함수의 실행 순서는 호출된 위치에 따라 달라지므로, 코드의 흐름을 고려해 적절한 위치에서 호출해야 한다. func()를 제일 마지막에 호출하면 출력 순서는 1, 4, 2, 3이 된다.

<br>

## 함수 사용과 반환값

### 함수 사용의 이점

#### `비효율적인 코드 예시`

```js
let num1 = 10;
let num2 = 15;
let sum = num1 + num2;
console.log(sum); // 25

let num3 = 1;
let num4 = 5;
let sum2 = num3 + num4;
console.log(sum2); // 6
```

- 동일한 계산 로직이 반복되면서 코드가 길어지고 유지보수가 어렵다.

#### `함수로 중복 제거`

```js
function add(num1, num2) {
  console.log(num1 + num2);
}

add(10, 15); // 25
add(1, 5); // 6
```

- `add` 함수 하나를 정의해두면, 어떤 숫자를 전달하든 동일한 방식으로 처리할 수 있다. 이처럼 함수는 반복 작업을 간결하게 처리하며, 코드의 재사용과 유지보수에 효과적이다.

<br>

### 함수의 반환값 (return)

`return`은 함수 실행 결과를 반환해, 그 값을 변수에 저장하거나 다른 작업에 활용할 수 있도록 한다.
만약 `return`이 없다면 함수는 값을 반환하지 않고 단순히 출력만 하며, 결과를 활용할 수 없다.

#### `return 없이 출력한 경우`

```js
function add(num1, num2) {
  console.log(num1 + num2); // 15
}

let result = add(10, 5); // undefined
console.log(result); // undefined
```

- `console.log`로 결과가 출력은 되지만, 함수는 값을 반환하지 않았기 때문에 `result`에는 아무것도 저장되지 않는다.

#### `return을 사용한 경우`

```js
function add(num1, num2) {
  return num1 + num2; // 결과값 반환
}

let result = add(10, 5); // 반환된 값을 변수에 저장
console.log(result); // 15
```

- `return`을 통해 함수 결과를 외부로 전달할 수 있기 때문에, 출력 외에도 계산, 저장, 조건 분기 등 다양한 용도로 활용할 수 있다.

#### `return 활용 예시`

```js
function add(num1, num2) {
  return num1 + num2;
}

console.log(`두 숫자를 더한 결과는 ${add(10, 14)} 입니다.`);
// 두 숫자를 더한 결과는 24 입니다.
```

<br>

## 얼리 리턴(Early Return) 패턴

함수 내부에서 조건이 만족되면 조기에 return하여 함수를 종료하는 패턴이다.
중첩된 if문을 줄여서 코드의 깊이를 얕게 만들고, 가독성과 유지보수성을 높이는 데 도움이 된다.

#### `가독성이 떨어지는 예시`

```js
function func(num) {
  if (num > 0) {
    if (num >= 10) {
      console.log("num의 값이 10보다 크거나 같습니다.");
    } else {
      console.log("num의 값이 0보다 크고 10보다 작습니다.");
    }
  } else if (num === 0) {
    console.log("num의 값이 0입니다.");
  } else {
    console.log("num의 값이 0보다 작습니다.");
  }
}

func(15);
// num의 값이 10보다 크거나 같습니다.
```

- 조건문이 중첩되어 읽기 어렵고 유지보수가 불편하다.

#### `얼리 리턴 패턴 적용`

```js
function func(num) {
  if (num === 0) return "num의 값이 0입니다.";
  if (num < 0) return "num의 값이 0보다 작습니다.";
  if (num >= 10) return "num의 값이 10보다 크거나 같습니다.";

  return "num의 값이 0보다 크고 10보다 작습니다";
}

console.log(func(15)); // num의 값이 10보다 크거나 같습니다.
```

- 조건을 위에서부터 순차적으로 확인하고, 조건을 만족하면 바로 반환해서 함수가 종료된다.
- 불필요한 중첩이 없고 가독성이 좋아진다.

<br>

## 즉시 실행 함수 (IIFE, Immediately Invoked Function Expression)

즉시 실행 함수란, 함수를 정의하자마자 즉시 실행되는 함수를 말한다(따로 호출하지 않아도 자동으로 실행된다). 이런 방식은 한 번만 실행하면 되는 초기화 코드에 자주 사용되며, 전역 스코프를 오염시키지 않고 독립적인 코드 블록을 만들 수 있는 장점이 있다.

#### `기본적인 함수 실행 방식`

```js
function print() {
  console.log("자바스크립트1");
}

print(); // 함수 호출
```

- 함수를 먼저 선언하고, 나중에 호출해야 실행된다.

#### `즉시 실행 함수 (IIFE)`

```js
(function () {
  console.log("자바스크립트2");
})();
```

- 함수 선언과 동시에 실행되며, `()`로 감싸서 함수 선언을 표현식으로 만든 뒤, 바로 이어지는 `()`로 실행한다.
