# 데이터 CRUD

![crud](./images/sql23.png)

<br>

## 테이블 구성 요소

![crud](./images/sql24.png)

<br>

## 로우 삽입

![crud](./images/sql25.png)

![crud](./images/sql26.png)

- 테이터 삽입: `INSERT INTO` 컬럼명 `VALUES` 실제 삽입한 데이터

![crud](./images/sql27.png)

- 순서가 틀리면 각 컬럼의 의도하지 않은 값이 들어갈 수 있기 때문에, 컬럼 이름과 컬럼 값의 순서도 준수해야 한다.
- 컬럼 이름의 순서도 CREATE TABLE의 순서를 지켜서 작성하는 것이 권장된다.

![crud](./images/sql28.png)

- `created_at`은 디폴트 값이 현재의 타임스탬프(CURRENT_TIMESTAMP)로 지정되어 있기 때문에, 따로 지정하지 않아도 레코드 삽입할 때 시간이 기록된다.

### 정리

![crud](./images/sql29.png)

<br>

## 로우 조회

### 전체 컬럼, 로우 조회

![crud](./images/sql30.png)

- 전체 컬럼 조회는 꼭 필요한 경우에만 하는 것을 권장한다.
- 조회할 때 컬럼 갯수를 제한하거나 조건을 거는 게 좋다. 필요하지 않은 데이터를 조회하면 할수록 DBMS가 리소슬르 더 많이 사용하기 때문이다. 즉, 데이테베이스 시스템의 할 일을 불필요하게 늘리게 되는 것이다.

<br>

### 특정 컬럼 조회

![crud](./images/sql31.png)

<br>

### 조건 (WHERE)

![crud](./images/sql32.png)

- 특정 조건에 맞는 로우만 조회할 수 있다.

![crud](./images/sql33.png)

![crud](./images/sql34.png)

![crud](./images/sql35.png)

![crud](./images/sql36.png)

![crud](./images/sql37.png)

![crud](./images/sql38.png)

<br>

### 정렬

![crud](./images/sql39.png)

- `ORDER BY` 기준이 되기 원하는 컬럼명 `오름차순(ASC)/ 내림차순(DESC)`

![crud](./images/sql40.png)

#### Limit 키워드

![crud](./images/sql41.png)

<br>

### SQL 함수

#### SELECT와 함께 쓰면 좋은 함수

![crud](./images/sql42.png)

![crud](./images/sql43.png)

![crud](./images/sql44.png)

![crud](./images/sql45.png)

<br>

### DISTINCT

![crud](./images/sql46.png)

- 값을 선택하는 조건을 거는 키워드

<br>

### 정리

![crud](./images/sql47.png)

<br>

## 로우 갱신

![crud](./images/sql49.png)
![crud](./images/sql50.png)

![crud](./images/sql51.png)
![crud](./images/sql52.png)

![crud](./images/sql53.png)
![crud](./images/sql54.png)

### 정리

![crud](./images/sql56.png)

<br>

## 로우 삭제

![](./images/sql57.png)
![](./images/sql58.png)

### 정리

![](./images/sql59.png)

<br>

### 주의

![crud](./images/sql55.png)

UPDATE / DELETE를 할 때는 이 과정을 거치는 것이 좋다.

- 1. SELECT를 먼저 해보고 데이터가 바뀌어도 괜찮은지 확인
- 2. RETURNING \*를 추가해보기

백업하는 방법 미리 알아두기

- 1. DBMS에서 덤프를 미리 따 놓거나
- 2. DB를 제공하는 클라우드의 기능을 활용해 미리 백업본 만들기

<br>
<Comment/>
